
<!doctype html>
<!-- START OF _layouts/default.html test -->
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible" >
		<meta content="width=device-width,initial-scale=1" name="viewport">
		<meta content="" name="description">
		<meta content="Gorille Gris" name="author">
		
		<title>S'y retrouver dans les outils de test Javascript &mdash; Gorille Gris</title>
		
		<!-- Styles -->
		<link href="/stylesheets/main.css" rel="stylesheet">
		<!-- Google web fonts -->
		<link href='http://fonts.googleapis.com/css?family=Lobster|Goudy+Bookletter+1911|Oswald:300' rel='stylesheet' type='text/css'>
		<link href="/stylesheets/prettify-hemisu.css" type="text/css" rel="stylesheet" />
		
		<!--<link href="http://feeds.feedburner.com/turkeltaub" rel="alternate" title="Gorille Gris" type="application/rss+xml" />-->
		
	</head>
	<body onload="prettyPrint()">
	
		<div class="wrap">
	
			<header>
				<div class="title"><a href="">Gorille Gris</a></div>
				<div class="navi">
					<ul>
						<li><a href="/blog/categories/dev">Dév</a></li>
						<li><a href="/blog/categories/theologie">Théologie</a></li>
						<li><a href="/blog/categories/lectures">Lectures</a></li>
						<li><a href="/a-propos.html">&Agrave; propos</a></li>
					<ul>
				</div> <!-- // .navi -->
			</header>
		
				<!-- START OF _layouts/post.html -->


  
  	<header>
  		<h1>S'y retrouver dans les outils de test Javascript</h1>
  
	<time>05 January 2015</time>
  </header>


<div class="entry-content"><p class="foreword">
Entre Jasmine, Sinon.js, Karma, QUnit tu ne sais plus où donner de la tête ? Voici un bref récapitulatif des outils pour tester du Javascript.
</p>
<!-- more -->

<h2 id="dfinitions">Définitions</h2>

<h3 id="les-frameworks-de-test">Les frameworks de test</h3>

<h3 id="les-bibliotques-dassertions">Les bibliotèques d’assertions</h3>

<p>Une assertion est un énoncé considéré comme vrai.</p>

<h3 id="test-driven-development-tdd">Test-Driven Development (TDD)</h3>

<h3 id="business-driven-development-bdd">Business-Driven Development (BDD)</h3>

<h2 id="les-outils">Les outils</h2>

<h3 id="jasmine">Jasmine</h3>

<p><img class="left" src="/images/test-jasmine.png" width="140" height="140" /></p>

<p>DOM-less simple JavaScript testing framework.
Jasmine is a behavior-driven development framework for testing JavaScript code. It does not depend on any other JavaScript frameworks. It does not require a DOM. And it has a clean, obvious syntax so that you can easily write tests. This guide is running against Jasmine version 2.1.0.</p>

<hr />

<h3 id="mocha">Mocha</h3>

<p><img class="left" src="/images/test-mocha.png" width="140" height="140" /></p>

<p>Mocha is a feature-rich JavaScript test framework running on node.js and the browser, making asynchronous testing simple and fun. Mocha tests run serially, allowing for flexible and accurate reporting, while mapping uncaught exceptions to the correct test cases. </p>

<hr />

<h3 id="karma-anciennement-testacular">Karma (anciennement Testacular)</h3>

<p><img class="left" src="/images/test-karma.png" width="140" height="140" /></p>

<p>The main goal for Karma is to bring a productive testing environment to developers. The environment being one where they don’t have to set up loads of configurations, but rather a place where developers can just write the code and get instant feedback from their tests. Because getting quick feedback is what makes you productive and creative.</p>

<p>Karma is essentially a tool which spawns a web server that executes source code against test code for each of the browsers connected. The results for each test against each browser are examined and displayed via the command line to the developer such that they can see which browsers and tests passed or failed.
A browser can be captured either
manually, by visiting the URL where the Karma server is listening (typically http://localhost:9876/),
or automatically by letting Karma know which browsers to start when Karma is run (see browsers).
Karma also watches all the files, specified within the configuration file, and whenever any file changes, it triggers the test run by sending a signal to the testing server to inform all of the captured browsers to run the test code again. Each browser then loads the source files inside an IFrame, executes the tests and reports the results back to the server.
The server collects the results from all of the captured browsers and presents them to the developer.
This is only a very brief overview, as the internals of how Karma works aren’t entirely necessary when using Karma.
However, if you are interested in learning more, Karma itself originates from a university thesis, which goes into detail about the design and implementation, and it is available to read right here.</p>

<hr />

<h3 id="intern">Intern</h3>

<p><img class="left" src="/images/test-intern.png" width="140" height="140" /></p>

<p>A next-generation code testing stack for JavaScript.</p>

<hr />

<h3 id="sinonjs">sinon.js</h3>

<p>Standalone test spies, stubs and mocks for JavaScript.
No dependencies, works with any unit testing framework.</p>

<hr />

<h3 id="shouldjs">should.js</h3>

<p>BDD style assertions for node.js – test framework agnostic</p>

<p>var should = require(‘should’);</p>

<p>var user = {
    name: ‘tj’
  , pets: [‘tobi’, ‘loki’, ‘jane’, ‘bandit’]
};</p>

<div><div class="CodeRay">
  <div class="code"><pre>user.should.have.property(<span class="string"><span class="delimiter">'</span><span class="content">name</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">tj</span><span class="delimiter">'</span></span>);
user.should.have.property(<span class="string"><span class="delimiter">'</span><span class="content">pets</span><span class="delimiter">'</span></span>).<span class="keyword">with</span>.lengthOf(<span class="integer">4</span>);

<span class="comment">// If the object was created with Object.create(null)</span>
<span class="comment">// then it doesn't inherit `Object.prototype`, so it will not have `.should` getter</span>
<span class="comment">// so you can do:</span>
should(user).have.property(<span class="string"><span class="delimiter">'</span><span class="content">name</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">tj</span><span class="delimiter">'</span></span>);

<span class="comment">// also you can test in that way for null's</span>
should(<span class="predefined-constant">null</span>).not.be.ok;

someAsyncTask(foo, <span class="keyword">function</span>(err, result){
  should.not.exist(err);
  should.exist(result);
  result.bar.should.equal(foo);
});
</pre></div>
</div>
</div>

<hr />

<h3 id="expectjs">expect.js</h3>

<p>Minimalistic BDD-style assertions for Node.JS and the browser.
BDD assertion toolkit based on should.js</p>

<ul>
  <li>Cross-browser: works on IE6+, Firefox, Safari, Chrome, Opera.</li>
  <li>Compatible with all test frameworks.</li>
  <li>Node.JS ready (require(‘expect.js’)).</li>
  <li>Standalone. Single global with no prototype extensions or shims.</li>
</ul>

<div><div class="CodeRay">
  <div class="code"><pre>expect(window.r).to.be(<span class="predefined-constant">undefined</span>);
expect({ <span class="key">a</span>: <span class="string"><span class="delimiter">'</span><span class="content">b</span><span class="delimiter">'</span></span> }).to.eql({ <span class="key">a</span>: <span class="string"><span class="delimiter">'</span><span class="content">b</span><span class="delimiter">'</span></span> })
expect(<span class="integer">5</span>).to.be.a(<span class="string"><span class="delimiter">'</span><span class="content">number</span><span class="delimiter">'</span></span>);
expect([]).to.be.an(<span class="string"><span class="delimiter">'</span><span class="content">array</span><span class="delimiter">'</span></span>);
expect(window).not.to.be.an(Image);
</pre></div>
</div>
</div>

<h3 id="chaijs">chai.js</h3>

<p><img class="left" src="/images/test-chai.png" width="140" height="140" /></p>

<p>Chai is a BDD / TDD assertion library for node and the browser that can be delightfully paired with any javascript testing framework.</p>

<h3 id="qunit">qUnit</h3>
</div>




<!-- END OF _/layouts/post.html -->


			<footer>
				Copyright &copy; 2015

	Grégory Pelletey


			</footer>
			
		</div> <!-- // .wrap -->
	</body>
	<!-- jQuery and plugins -->
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  	<script>!window.jQuery && document.write(unescape('%3Cscript src="/js/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  	<script src="/js/octopress.js" type="text/javascript"></script>
	<script src="/js/jquery.zclip.min.js"></script>
	<!-- Syntax highlighter -->
	<script type="text/javascript" src="/js/prettify.js"></script>
	<script>
		$(document).ready(function() {
			// Prettify code
			$('code').addClass('prettyprint');
			$('pre code').addClass('linenums');
			
			// Copy to clipboard with button
			$('pre:has(code)').prepend(function(){
				return '<div class="clip-btn">copy to clipboard</div>';
			});
			$('.clip-btn').zclip({
				path:'/js/ZeroClipboard.swf',
				copy: $(this).next('code').text(),
				afterCopy: function(){
					$(this).replaceWith('<div class="clip-btn">copied!');
					}
			});
		});
	</script>
</html>
<!-- END OF _layouts/default.html -->
